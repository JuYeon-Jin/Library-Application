<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>도서관리 어플리케이션</title>
    <link rel="shortcut icon" type="image/png" href="/img/book.png" />
    <link rel="stylesheet" href="/css/main-styles.css">
    <script>

        /**
         * 회원가입 입력값을 검증하는 함수입니다.
         * ID와 비밀번호가 지정된 조건에 맞는지 확인하며, 유효하지 않을 경우 경고 메시지를 표시하고 false 를 return 합니다.
         *
         * @returns {boolean} - 입력값이 유효하면 true 를 반환하고, 유효하지 않으면 false 를 반환합니다.
         */
        function validateJoin() {

            const id = document.getElementById("signup-id").value;
            const regexId = /^[A-Za-z0-9가-힣]+$/;
            if (!regexId.test(id) || !validateLength(id, 3, 6)) {
                alert("ID는 3-6자 사이의 영문자, 숫자, 한글로만 구성되어야 합니다.");
                return false;
            }

            const password = document.getElementById("signup-pw").value;
            const regexPw = /^[a-z0-9]+$/;
            if (!regexPw.test(password) || !validateLength(password, 4, 10)) {
                alert("비밀번호는 4-10자 사이의 영소문자와 숫자로만 구성되어야 합니다.");
                return false;
            }

            return true;
        }

        function validateLength(value, minLength, maxLength) {
            if (value.length < minLength || value.length > maxLength)
                return false;
            return true;
        }

    </script>
</head>
<body>

<div class="container">

    <!-- 헤더 -->
    <div class="header"> <img src="/img/book.png" alt="Book Icon" style="width: 70px; margin-right: 24px;"> 도서관리 어플리케이션 </div>

    <!-- 메인 -->
    <div class="main-container">


        <div class="mini-container-outline">
            <span class="title26">회원 등록</span>
            <form action="/join" method="post" class="signup-form" onsubmit="return validateJoin()">

                <div class="user-input-box">
                    <div><label for="signup-id">아이디</label></div>
                    <input type="text" id="signup-id" placeholder="영소문자, 숫자, 한글만 가능"
                           name="username">
                </div>
                <div class="user-input-box">
                    <div><label for="signup-pw">비밀번호</label></div>
                    <input type="password" id="signup-pw" placeholder="영소문자, 숫자만 가능"
                           name="password">
                </div>
                <button class="user-btn">저장</button>

            </form>
        </div><!-- mini-container-outline -->


        <div class="mini-container-outline">
            <span class="title26">로그인</span>
            <form action="/login" method="post" class="sign-in-form">

                <div class="user-input-box">
                    <div><label for="sign-in-id">아이디</label></div>
                    <input type="text" id="sign-in-id"
                           name="username">
                </div>
                <div class="user-input-box">
                    <div><label for="sign-in-pw">비밀번호</label></div>
                    <input type="password" id="sign-in-pw"
                           name="password">
                </div>
                <button type="submit" class="user-btn">로그인</button>

            </form>
        </div><!-- mini-container-outline -->


    </div><!-- main-container -->
</div><!-- container -->

</body>
</html>